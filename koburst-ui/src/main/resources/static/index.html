<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Performance Metrics</title>
  <link href="tailwind.css" rel="stylesheet">

  <script type="importmap">
    {
      "imports": {
        "protobufjs": "./protobuf.min.js"
      }
    }
  </script>

  <script type="module" src="chart.min.js"></script>
  <script src="luxon.min.js"></script>
  <script type="module" src="chartjs-adapter-luxon.umd.min.js"></script>
  <script type="module" src="koburst.js"></script>
</head>
<body class="bg-gray-900 text-white">
<div class="container mx-auto p-8">
  <h1 class="text-2xl font-bold mb-4">Real-time Performance Metrics</h1>
  <canvas id="usersChart" class="bg-white p-4 rounded"></canvas>
  <canvas id="timeChart" class="bg-white p-4 rounded"></canvas>
</div>

<script type="module">
  import {init} from './koburst.js';

  window.onload = () => init();
</script>

<script>
  const storedTheme = localStorage.getItem('theme') || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
  if (storedTheme) document.documentElement.setAttribute('data-theme', storedTheme)

  function toggleTheme() {
    const currentTheme = document.documentElement.getAttribute("data-theme");
    const targetTheme = currentTheme === "light" ? "dark" : "light";

    document.documentElement.setAttribute('data-theme', targetTheme)
    localStorage.setItem('theme', targetTheme);
  };
</script>

</body>
</html>
